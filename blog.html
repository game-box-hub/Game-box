<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Game Box - Blog</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #111827;
      color: white;
      padding: 30px;
    }

    .container {
      max-width: 800px;
      margin: auto;
    }

    h1, h2 {
      text-align: center;
    }

    table {
      width: 100%;
      margin-top: 20px;
      border-collapse: collapse;
      background-color: #1f2937;
      border-radius: 10px;
      overflow: hidden;
    }

    th, td {
      padding: 15px;
      border-bottom: 1px solid #374151;
      text-align: left;
    }

    th {
      background-color: #374151;
    }

    tr:hover {
      background-color: #2d3748;
    }

    button {
      margin-top: 20px;
      padding: 12px 24px;
      background-color: #2563eb;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
    }

    button:hover {
      background-color: #1d4ed8;
    }

    input, select {
      width: 100%;
      padding: 12px;
      border: 1px solid #374151;
      border-radius: 8px;
      background-color: #1f2937;
      color: white;
      margin-bottom: 10px;
    }

    label {
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ðŸŽ® Welcome to Game Box</h1>
    <h2>Available Games & Prices</h2>

    <table>
      <tr>
        <th>Game</th>
        <th>Entry Price</th>
      </tr>
      <tr><td>PUBG Mobile</td><td>â‚¹120</td></tr>
      <tr><td>Game for Peace</td><td>â‚¹120</td></tr>
      <tr><td>Free Fire</td><td>â‚¹30</td></tr>
      <tr><td>Free Fire Max</td><td>â‚¹50</td></tr>
      <tr><td>PUBG Lite</td><td>â‚¹60 â†’ â‚¹30</td></tr>
      <tr><td>BGMI</td><td>â‚¹120</td></tr>
      <tr><td>Valorant</td><td>â‚¹300</td></tr>
      <tr><td>CS:GO</td><td>Free</td></tr>
      <tr><td>Indus</td><td>â‚¹20</td></tr>
      <tr><td>PUBG PC</td><td>â‚¹300</td></tr>
    </table>

    <!-- Team Join -->
    <button onclick="showForm()">ðŸŽ® Join Game</button>
    <div id="formContainer" style="display: none; margin-top: 30px;">
      <label>Select Game:</label><br>
      <select id="gameSelect" required>
        <option value="">-- Select Game --</option>
        <option value="PUBG Mobile">PUBG Mobile</option>
        <option value="Game for Peace">Game for Peace</option>
        <option value="Free Fire">Free Fire</option>
        <option value="Free Fire Max">Free Fire Max</option>
        <option value="PUBG Lite">PUBG Lite</option>
        <option value="BGMI">BGMI</option>
        <option value="Valorant">Valorant</option>
        <option value="CS:GO">CS:GO</option>
        <option value="Indus">Indus</option>
        <option value="PUBG PC">PUBG PC</option>
      </select><br>

      <label>Game UID:</label><br>
      <input type="text" id="uid" placeholder="Enter your UID" required><br>

      <label>Team Name:</label><br>
      <input type="text" id="teamName" placeholder="Enter your Team Name" required><br>

      <label>Contact Number:</label><br>
      <input type="tel" id="contact" placeholder="Enter your Contact Number" required><br>

      <button onclick="submitAndPay()">Submit & Pay</button>
    </div>

    <div id="thankyouMessage" style="display: none; margin-top: 30px; color: #10b981;">
      âœ… Thank you for joining! Weâ€™ll contact you soon.
    </div>

    <!-- Solo Player -->
    <button onclick="showRequestForm()">ðŸ™‹ Don't Have a Team?</button>
    <div id="requestForm" style="display: none; margin-top: 30px;">
      <label>Select Game:</label><br>
      <select id="requestGame" required>
        <option value="">-- Select Game --</option>
        <option value="PUBG Mobile">PUBG Mobile</option>
        <option value="Game for Peace">Game for Peace</option>
        <option value="Free Fire">Free Fire</option>
        <option value="Free Fire Max">Free Fire Max</option>
        <option value="PUBG Lite">PUBG Lite</option>
        <option value="BGMI">BGMI</option>
        <option value="Valorant">Valorant</option>
        <option value="CS:GO">CS:GO</option>
        <option value="Indus">Indus</option>
        <option value="PUBG PC">PUBG PC</option>
      </select><br>

      <label>Your Game Level:</label><br>
      <input type="text" id="requestLevel" placeholder="e.g., Gold, Platinum, Ace" required><br>

      <label>Your UID:</label><br>
      <input type="text" id="requestUID" placeholder="Enter your game UID" required><br>

      <button onclick="submitRequest()">Submit Request & Pay</button>
    </div>

    <div id="requestThankyou" style="display: none; margin-top: 30px; color: #10b981;">
      âœ… Thank you! Your solo request has been submitted. We'll match you with a team.
    </div>
  </div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAbWLhXk_nrh7FwTy17jDp3MKqxqtooZ78",
      authDomain: "gamebox-a049d.firebaseapp.com",
      projectId: "gamebox-a049d",
      storageBucket: "gamebox-a049d.appspot.com",
      messagingSenderId: "978725902064",
      appId: "1:978725902064:web:1793d66e2fc29910d05435",
      databaseURL: "https://gamebox-a049d-default-rtdb.firebaseio.com"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    const auth = firebase.auth();

    auth.setPersistence(firebase.auth.Auth.Persistence.LOCAL);

    auth.onAuthStateChanged((user) => {
      if (!user) {
        window.location.href = "index.html";
      }
    });

    const prices = {
      "PUBG Mobile": 120,
      "Game for Peace": 120,
      "Free Fire": 30,
      "Free Fire Max": 50,
      "PUBG Lite": 30,
      "BGMI": 120,
      "Valorant": 300,
      "CS:GO": 0,
      "Indus": 20,
      "PUBG PC": 300
    };

    function showForm() {
      document.getElementById("formContainer").style.display = "block";
    }

    function submitAndPay() {
      const game = document.getElementById("gameSelect").value;
      const uid = document.getElementById("uid").value.trim();
      const team = document.getElementById("teamName").value.trim();
      const contact = document.getElementById("contact").value.trim();

      if (!game || !uid || !team || !contact) {
        alert("Please fill all fields before proceeding.");
        return;
      }

      const amount = prices[game];
      if (amount === undefined) {
        alert("Invalid game selected.");
        return;
      }

      const playerData = {
        type: "team",
        game: game,
        uid: uid,
        team: team,
        contact: contact,
        timestamp: new Date().toISOString()
      };

      db.ref("registrations").push(playerData)
        .then(() => {
          document.getElementById("thankyouMessage").style.display = "block";
          if (amount > 0) {
            const upiLink = `upi://pay?pa=deshwalaarav80@okhdfcbank&pn=GameBox&am=${amount}&cu=INR`;
            window.location.href = upiLink;
          } else {
            alert("Game is free to join.");
          }
        })
        .catch((error) => {
          alert("Failed to save data: " + error.message);
        });
    }

    function showRequestForm() {
      document.getElementById("requestForm").style.display = "block";
    }

    function submitRequest() {
      const game = document.getElementById("requestGame").value;
      const level = document.getElementById("requestLevel").value.trim();
      const uid = document.getElementById("requestUID").value.trim();

      if (!game || !level || !uid) {
        alert("Please fill all fields.");
        return;
      }

      const amount = prices[game];
      if (amount === undefined) {
        alert("Invalid game selected.");
        return;
      }

      const requestData = {
        type: "solo",
        game: game,
        level: level,
        uid: uid,
        timestamp: new Date().toISOString()
      };

      db.ref("solo_requests").push(requestData)
        .then(() => {
          document.getElementById("requestThankyou").style.display = "block";
          if (amount > 0) {
            const upiLink = `upi://pay?pa=deshwalaarav80@okhdfcbank&pn=GameBoxSolo&am=${amount}&cu=INR`;
            window.location.href = upiLink;
          } else {
            alert("This game is free to join.");
          }
        })
        .catch((error) => {
          alert("Failed to submit request: " + error.message);
        });
    }
  </script>
</body>
</html>
